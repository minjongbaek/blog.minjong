---
import PostComment from "@/components/Post/PostComment.astro";
import BaseLayout from "./BaseLayout.astro";
import Tag from "@/components/Common/Tag.astro";
import type { MarkdownLayoutProps } from "astro";
import type { Code } from "astro:components";

type Props = MarkdownLayoutProps<{
  title: string;
  description: string;
  tags: string[];
  date: string;
}>;

const {
  frontmatter: { title, description, tags, date },
} = Astro.props;

const meta = {
  title,
  description,
  keywords: tags.join(", "),
};
---

<BaseLayout {...meta}>
  <div class="flex flex-col items-center gap-4 mt-6 mb-10">
    <h1 class="text-2xl font-bold text-center break-keep">{title}</h1>
    <div class="text-slate-500">
      {new Date(date).toLocaleDateString("ko-KR")}
    </div>

    <div class="flex gap-4">
      {tags.map((tag) => <Tag>#{tag}</Tag>)}
    </div>
  </div>
  <div class="markdown-content space-y-4 mb-8">
    <slot />
  </div>
  <PostComment />
</BaseLayout>
